<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Identity Vault - OneProfile</title>
    <style>
      /* GLOBAL RESET */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: Arial, sans-serif;
        background-color: #f5f5f5;
        padding-bottom: 40px;
      }

      /* HEADER */
      header {
        background-color: #333;
        color: white;
        padding: 20px;
        width: 100%;
      }
      .header-content {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 20px;
      }
      .header-right {
        display: flex;
        align-items: center;
        gap: 20px;
      }
      .profile-nav {
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .profile-picture {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        cursor: pointer;
      }

      .profile-nav p {
        cursor: pointer;
      }

      .settings-icon {
        font-size: 24px;
        cursor: pointer;
        color: white;
        transition: opacity 0.2s;
      }

      .settings-icon:hover {
        opacity: 0.8;
      }

      /* CONTAINERS */
      .container {
        max-width: 1200px;
        margin: 40px auto;
        padding: 0 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .info-card {
        background: white;
        border: 1px solid black;
        font-family: "Courier New", Courier, monospace;
        width: 100%;
        max-width: 900px;
        margin-bottom: 30px;
        box-shadow: 4px 4px 0px rgba(0, 0, 0, 0.1);
      }
      .info-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 20px;
        border-bottom: 1px solid black;
        font-size: 14px;
        font-weight: bold;
      }
      .info-body {
        padding: 30px 40px;
      }

      /* BUTTONS */
      button {
        background-color: #333;
        color: white;
        border: none;
        padding: 8px 14px;
        border-radius: 4px;
        cursor: pointer;
        font-family: inherit;
        font-size: 13px;
        transition: background 0.2s;
      }
      button:hover {
        background-color: #555;
      }
      .btn-outline {
        background: none;
        color: black;
        border: 1px solid black;
        padding: 4px 8px;
        margin-left: 5px;
      }

      /* ENTRIES */
      .vault-entry {
        border: 1px solid black;
        padding: 20px;
        margin-bottom: 15px;
      }
      .action-row {
        display: flex;
        justify-content: flex-end;
        gap: 10px;
        margin-top: 15px;
      }
      .vault-grid {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 20px;
        margin-top: 30px;
        text-align: center;
        padding: 20px 0;
      }
      .stat-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 15px;
        border: 2px solid #333;
        background-color: #fafafa;
      }
      .stat-number {
        font-size: 36px;
        font-weight: bold;
        color: #000;
        margin: 10px 0 5px 0;
        line-height: 1;
      }
      .stat-label {
        font-size: 14px;
        color: #333;
        font-weight: bold;
        margin-top: 5px;
      }
      .vault-stats-title {
        font-size: 22px;
        margin-bottom: 10px;
        font-weight: bold;
        color: #000;
      }
      .center-wrap {
        display: flex;
        justify-content: center;
        width: 100%;
        margin-top: 20px;
      }
      h2 {
        font-family: "Courier New", Courier, monospace;
        margin-bottom: 20px;
        text-align: left;
        width: 100%;
        max-width: 900px;
      }
      ul {
        padding-left: 20px;
        line-height: 1.6;
        margin-top: 10px;
      }
      .empty-placeholder {
        border: 1px dashed #ccc;
        color: #999;
        text-align: center;
        padding: 20px;
        margin-bottom: 15px;
        font-style: italic;
      }

      /* MODAL */
      #vaultModal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6);
        z-index: 9999;
        justify-content: center;
        align-items: center;
      }
      .modal-content {
        background: white;
        border: 2px solid black;
        padding: 30px;
        width: 450px;
        font-family: "Courier New", Courier, monospace;
      }
      .modal-content input,
      .modal-content textarea {
        width: 100%;
        padding: 10px;
        margin: 10px 0;
        border: 1px solid black;
        font-family: inherit;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="header-content">
        <h1 style="cursor: pointer" onclick="location.href = 'dashboard.html'">
          OneProfile
        </h1>
        <div class="header-right">
          <span class="settings-icon" onclick="location.href = 'account_settings.html'">‚öôÔ∏è</span>
          <div class="profile-nav">
            <img
              src="https://content.presentermedia.com/files/clipart/00030000/30857/casual_guy_icon_bust_800_wht.jpg"
              class="profile-picture"
              alt="Profile"
              onclick="location.href = 'profile.html'"
            />
            <p onclick="location.href = 'profile.html'">Alex</p>
          </div>
        </div>
      </div>
    </header>

    <main class="container">
      <h2>Identity Vault</h2>

      <div class="info-card">
        <div class="info-header">
          <span>VAULT OVERVIEW</span>
          <button id="addGeneric" class="add-btn">Add New Item</button>
        </div>
        <div class="info-body">
          <div>
            <p class="vault-stats-title" style="text-align: center; margin-bottom: 20px;">25 items total</p>
            <div class="vault-grid">
              <div class="stat-item">
                <div style="font-size: 28px;">üéì</div>
                <div class="stat-number">1</div>
                <div class="stat-label">Degree</div>
              </div>
              <div class="stat-item">
                <div style="font-size: 28px;">üíº</div>
                <div class="stat-number">3</div>
                <div class="stat-label">Experiences</div>
              </div>
              <div class="stat-item">
                <div style="font-size: 28px;">üöÄ</div>
                <div class="stat-number">5</div>
                <div class="stat-label">Projects</div>
              </div>
              <div class="stat-item">
                <div style="font-size: 28px;">üõ†Ô∏è</div>
                <div class="stat-number">12</div>
                <div class="stat-label">Skills</div>
              </div>
              <div class="stat-item">
                <div style="font-size: 28px;">üèÜ</div>
                <div class="stat-number">4</div>
                <div class="stat-label">Awards</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="info-card">
        <div class="info-header">
          <span id="degrees-header">üéì DEGREES (0)</span>
          <button class="add-btn">+ Add Degree</button>
        </div>
        <div class="info-body" id="degrees-body">
          <!-- Education entries will be loaded here dynamically -->
        </div>
      </div>

      <div class="info-card">
        <div class="info-header">
          <span id="experiences-header">üíº EXPERIENCES (0)</span>
          <button class="add-btn">+ Add Experience</button>
        </div>
        <div class="info-body" id="experiences-body">
          <!-- Experience entries will be loaded here dynamically -->
        </div>
      </div>

      <div class="info-card">
        <div class="info-header">
          <span id="projects-header">üöÄ PROJECTS (0)</span>
          <button class="add-btn">+ Add Project</button>
        </div>
        <div class="info-body" id="projects-body">
          <!-- Project entries will be loaded here dynamically -->
        </div>
      </div>

      <div class="info-card">
        <div class="info-header">
          <span id="skills-header">üõ†Ô∏è SKILLS (0)</span>
          <button class="add-btn">+ Add Skill</button>
        </div>
        <div class="info-body" id="skills-body">
          <!-- Skill entries will be loaded here dynamically -->
        </div>
      </div>

      <div class="info-card">
        <div class="info-header">
          <span id="awards-header">üèÜ AWARDS (0)</span>
          <button class="add-btn">+ Add Award</button>
        </div>
        <div class="info-body" id="awards-body">
          <!-- Award entries will be loaded here dynamically -->
        </div>
      </div>

      <div class="center-wrap">
        <button
          onclick="location.href = 'dashboard.html'"
          style="padding: 12px 24px"
        >
          Back to Dashboard
        </button>
      </div>
    </main>

    <div id="vaultModal">
      <div class="modal-content">
        <h3 id="modalTitle">Add Item</h3>
        <input type="text" id="inTitle" placeholder="Title/Role" />
        <input type="text" id="inSub" placeholder="Org/Company/Date" />
        <textarea
          id="inDetails"
          placeholder="Details (one per line)"
        ></textarea>
        <div
          style="
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 10px;
          "
        >
          <button
            onclick="closeVaultModal()"
            style="background: white; color: black; border: 1px solid black"
          >
            Cancel
          </button>
          <button id="confirmAdd">Add to Vault</button>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
    <script>
      // Load education entries from API (make available globally for script.js)
      window.loadEducationEntries = async function loadEducationEntries() {
        try {
          const response = await fetch("http://localhost:5000/api/education");
          const data = await response.json();
          
          const degreesBody = document.getElementById("degrees-body");
          const degreesHeader = document.getElementById("degrees-header");
          
          if (!degreesBody || !degreesHeader) {
            console.error("Required DOM elements not found");
            return;
          }
          
          // Clear existing content
          degreesBody.innerHTML = "";
          
          if (data.status === "success" && data.education && data.education.length > 0) {
            const educationList = data.education;
            
            // Update header with count
            degreesHeader.textContent = `üéì DEGREES (${educationList.length})`;
            
            // Render each education entry
            educationList.forEach((entry) => {
              const entryDiv = document.createElement("div");
              entryDiv.className = "vault-entry";
              entryDiv.setAttribute("data-id", entry._id);
              entryDiv.setAttribute("data-type", "education");
              
              // Format date range
              const startDate = new Date(entry.startDate);
              const endDate = entry.endDate ? new Date(entry.endDate) : null;
              const startDateStr = startDate.toLocaleDateString("en-US", { 
                year: "numeric", 
                month: "short" 
              });
              const endDateStr = endDate 
                ? endDate.toLocaleDateString("en-US", { year: "numeric", month: "short" })
                : "Present";
              const dateRange = `${startDateStr} - ${endDateStr}`;
              
              // Build degree title
              const degreeTitle = entry.degree + (entry.fieldOfStudy ? ` in ${entry.fieldOfStudy}` : "");
              
              // Build display HTML
              let html = `<p style="font-weight: bold; font-size: 1.1em">${degreeTitle}</p>`;
              html += `<p>${entry.institution}</p>`;
              
              const details = [];
              if (dateRange) details.push(dateRange);
              if (entry.gpa !== undefined && entry.gpa !== null) {
                details.push(`GPA: ${entry.gpa}`);
              }
              if (details.length > 0) {
                html += `<p style="color: #666">${details.join(" | ")}</p>`;
              }
              
              // Add description or achievements if available
              if (entry.description) {
                html += `<p style="margin-top: 10px">${entry.description}</p>`;
              }
              
              if (entry.achievements && entry.achievements.length > 0) {
                html += `<ul style="margin-top: 10px; padding-left: 20px">`;
                entry.achievements.forEach((achievement) => {
                  html += `<li>${achievement}</li>`;
                });
                html += `</ul>`;
              }
              
              // Add action buttons
              html += `<div class="action-row">
                <button class="btn-outline">‚úèÔ∏è Edit</button>
                <button class="btn-outline">üóëÔ∏è Delete</button>
                <button class="btn-outline">üìã Copy</button>
              </div>`;
              
              entryDiv.innerHTML = html;
              degreesBody.appendChild(entryDiv);
            });
          } else {
            // No education entries - show placeholder
            degreesHeader.textContent = `üéì DEGREES (0)`;
            degreesBody.innerHTML = '<div class="empty-placeholder" style="text-align: center; color: #666; padding: 20px;">No education entries yet. Click "+ Add Degree" to add one.</div>';
          }
        } catch (error) {
          console.error("Error loading education entries:", error);
          const degreesBody = document.getElementById("degrees-body");
          const degreesHeader = document.getElementById("degrees-header");
          
          if (degreesBody) {
            degreesBody.innerHTML = '<div class="error-placeholder" style="text-align: center; color: #d32f2f; padding: 20px;">Error loading education entries. Please try again later.</div>';
          }
          
          if (degreesHeader) {
            degreesHeader.textContent = `üéì DEGREES (0)`;
          }
        }
      }
      
      // Load experience entries from API (make available globally for script.js)
      window.loadExperienceEntries = async function loadExperienceEntries() {
        try {
          const response = await fetch("http://localhost:5000/api/experience");
          const data = await response.json();
          
          const experiencesBody = document.getElementById("experiences-body");
          const experiencesHeader = document.getElementById("experiences-header");
          
          if (!experiencesBody || !experiencesHeader) {
            console.error("Required DOM elements not found for experiences");
            return;
          }
          
          // Clear existing content
          experiencesBody.innerHTML = "";
          
          if (data.status === "success" && data.experiences && data.experiences.length > 0) {
            const experienceList = data.experiences;
            
            // Update header with count
            experiencesHeader.textContent = `üíº EXPERIENCES (${experienceList.length})`;
            
            // Render each experience entry
            experienceList.forEach((entry) => {
              const entryDiv = document.createElement("div");
              entryDiv.className = "vault-entry";
              entryDiv.setAttribute("data-id", entry._id);
              entryDiv.setAttribute("data-type", "experience");
              
              // Format date range
              const startDate = new Date(entry.startDate);
              const endDate = entry.endDate ? new Date(entry.endDate) : null;
              const startDateStr = startDate.toLocaleDateString("en-US", { 
                year: "numeric", 
                month: "short" 
              });
              const endDateStr = endDate 
                ? endDate.toLocaleDateString("en-US", { year: "numeric", month: "short" })
                : "Present";
              const dateRange = `${startDateStr} - ${endDateStr}`;
              
              // Build display HTML
              let html = `<p style="font-weight: bold; font-size: 1.1em">${entry.title}</p>`;
              
              // Company and location
              const locationInfo = [];
              if (entry.company) locationInfo.push(entry.company);
              if (entry.location) locationInfo.push(entry.location);
              if (locationInfo.length > 0) {
                html += `<p>${locationInfo.join(" ‚Ä¢ ")}</p>`;
              }
              
              // Date range and employment type
              const details = [];
              if (dateRange) details.push(dateRange);
              if (entry.employmentType) {
                const typeMap = {
                  "full-time": "Full-time",
                  "part-time": "Part-time",
                  "contract": "Contract",
                  "internship": "Internship",
                  "freelance": "Freelance"
                };
                details.push(typeMap[entry.employmentType] || entry.employmentType);
              }
              if (details.length > 0) {
                html += `<p style="color: #666">${details.join(" | ")}</p>`;
              }
              
              // Description if available
              if (entry.description) {
                html += `<p style="margin-top: 10px">${entry.description}</p>`;
              }
              
              // Bullets if available
              if (entry.bullets && entry.bullets.length > 0) {
                html += `<ul style="margin-top: 10px; padding-left: 20px">`;
                entry.bullets.forEach((bullet) => {
                  html += `<li>${bullet}</li>`;
                });
                html += `</ul>`;
              }
              
              // Achievements if available
              if (entry.achievements && entry.achievements.length > 0) {
                html += `<p style="margin-top: 10px; font-weight: bold">Achievements:</p>`;
                html += `<ul style="margin-top: 5px; padding-left: 20px">`;
                entry.achievements.forEach((achievement) => {
                  html += `<li>${achievement}</li>`;
                });
                html += `</ul>`;
              }
              
              // Add action buttons
              html += `<div class="action-row">
                <button class="btn-outline">‚úèÔ∏è Edit</button>
                <button class="btn-outline">üóëÔ∏è Delete</button>
                <button class="btn-outline">üìã Copy</button>
              </div>`;
              
              entryDiv.innerHTML = html;
              experiencesBody.appendChild(entryDiv);
            });
          } else {
            // No experience entries - show placeholder
            experiencesHeader.textContent = `üíº EXPERIENCES (0)`;
            experiencesBody.innerHTML = '<div class="empty-placeholder" style="text-align: center; color: #666; padding: 20px;">No experience entries yet. Click "+ Add Experience" to add one.</div>';
          }
        } catch (error) {
          console.error("Error loading experience entries:", error);
          const experiencesBody = document.getElementById("experiences-body");
          const experiencesHeader = document.getElementById("experiences-header");
          
          if (experiencesBody) {
            experiencesBody.innerHTML = '<div class="error-placeholder" style="text-align: center; color: #d32f2f; padding: 20px;">Error loading experience entries. Please try again later.</div>';
          }
          
          if (experiencesHeader) {
            experiencesHeader.textContent = `üíº EXPERIENCES (0)`;
          }
        }
      }
      
      // Load project entries from API (make available globally for script.js)
      window.loadProjectEntries = async function loadProjectEntries() {
        try {
          const response = await fetch("http://localhost:5000/api/projects");
          const data = await response.json();
          
          const projectsBody = document.getElementById("projects-body");
          const projectsHeader = document.getElementById("projects-header");
          
          if (!projectsBody || !projectsHeader) {
            console.error("Required DOM elements not found for projects");
            return;
          }
          
          // Clear existing content
          projectsBody.innerHTML = "";
          
          if (data.status === "success" && data.projects && data.projects.length > 0) {
            const projectList = data.projects;
            
            // Update header with count
            projectsHeader.textContent = `üöÄ PROJECTS (${projectList.length})`;
            
            // Render each project entry
            projectList.forEach((entry) => {
              const entryDiv = document.createElement("div");
              entryDiv.className = "vault-entry";
              entryDiv.setAttribute("data-id", entry._id);
              entryDiv.setAttribute("data-type", "project");
              
              // Format date range
              const startDate = new Date(entry.startDate);
              const endDate = entry.endDate ? new Date(entry.endDate) : null;
              const startDateStr = startDate.toLocaleDateString("en-US", { 
                year: "numeric", 
                month: "short" 
              });
              const endDateStr = endDate 
                ? endDate.toLocaleDateString("en-US", { year: "numeric", month: "short" })
                : "Present";
              const dateRange = `${startDateStr} - ${endDateStr}`;
              
              // Build display HTML
              let html = `<p style="font-weight: bold; font-size: 1.1em">${entry.name}</p>`;
              
              // Date range
              if (dateRange) {
                html += `<p style="color: #666">${dateRange}</p>`;
              }
              
              // Description if available
              if (entry.description) {
                html += `<p style="margin-top: 10px">${entry.description}</p>`;
              }
              
              // Technologies if available
              if (entry.technologies && entry.technologies.length > 0) {
                html += `<p style="margin-top: 10px"><strong>Technologies:</strong> ${entry.technologies.join(", ")}</p>`;
              }
              
              // Bullets if available
              if (entry.bullets && entry.bullets.length > 0) {
                html += `<ul style="margin-top: 10px; padding-left: 20px">`;
                entry.bullets.forEach((bullet) => {
                  html += `<li>${bullet}</li>`;
                });
                html += `</ul>`;
              }
              
              // Achievements if available
              if (entry.achievements && entry.achievements.length > 0) {
                html += `<p style="margin-top: 10px; font-weight: bold">Achievements:</p>`;
                html += `<ul style="margin-top: 5px; padding-left: 20px">`;
                entry.achievements.forEach((achievement) => {
                  html += `<li>${achievement}</li>`;
                });
                html += `</ul>`;
              }
              
              // URL if available
              if (entry.url) {
                html += `<p style="margin-top: 10px"><a href="${entry.url}" target="_blank" style="color: #0066cc; text-decoration: underline;">View Project ‚Üí</a></p>`;
              }
              
              // Add action buttons
              html += `<div class="action-row">
                <button class="btn-outline">‚úèÔ∏è Edit</button>
                <button class="btn-outline">üóëÔ∏è Delete</button>
                <button class="btn-outline">üìã Copy</button>
              </div>`;
              
              entryDiv.innerHTML = html;
              projectsBody.appendChild(entryDiv);
            });
          } else {
            // No project entries - show placeholder
            projectsHeader.textContent = `üöÄ PROJECTS (0)`;
            projectsBody.innerHTML = '<div class="empty-placeholder" style="text-align: center; color: #666; padding: 20px;">No project entries yet. Click "+ Add Project" to add one.</div>';
          }
        } catch (error) {
          console.error("Error loading project entries:", error);
          const projectsBody = document.getElementById("projects-body");
          const projectsHeader = document.getElementById("projects-header");
          
          if (projectsBody) {
            projectsBody.innerHTML = '<div class="error-placeholder" style="text-align: center; color: #d32f2f; padding: 20px;">Error loading project entries. Please try again later.</div>';
          }
          
          if (projectsHeader) {
            projectsHeader.textContent = `üöÄ PROJECTS (0)`;
          }
        }
      }
      
      // Load skill entries from API (make available globally for script.js)
      window.loadSkillEntries = async function loadSkillEntries() {
        try {
          const response = await fetch("http://localhost:5000/api/skills");
          const data = await response.json();
          
          const skillsBody = document.getElementById("skills-body");
          const skillsHeader = document.getElementById("skills-header");
          
          if (!skillsBody || !skillsHeader) {
            console.error("Required DOM elements not found for skills");
            return;
          }
          
          // Clear existing content
          skillsBody.innerHTML = "";
          
          if (data.status === "success" && data.skills && data.skills.length > 0) {
            const skillList = data.skills;
            
            // Update header with count
            skillsHeader.textContent = `üõ†Ô∏è SKILLS (${skillList.length})`;
            
            // Render each skill entry
            skillList.forEach((entry) => {
              const entryDiv = document.createElement("div");
              entryDiv.className = "vault-entry";
              entryDiv.setAttribute("data-id", entry._id);
              entryDiv.setAttribute("data-type", "skill");
              
              // Build display HTML
              let html = `<p style="font-weight: bold; font-size: 1.1em">${entry.name}</p>`;
              
              // Category and proficiency
              const details = [];
              if (entry.category) {
                const categoryMap = {
                  "programming": "Programming",
                  "framework": "Framework",
                  "tool": "Tool",
                  "language": "Language",
                  "soft-skill": "Soft Skill",
                  "other": "Other"
                };
                details.push(categoryMap[entry.category] || entry.category);
              }
              if (entry.proficiency) {
                const proficiencyMap = {
                  "beginner": "Beginner",
                  "intermediate": "Intermediate",
                  "advanced": "Advanced",
                  "expert": "Expert"
                };
                details.push(proficiencyMap[entry.proficiency] || entry.proficiency);
              }
              if (entry.yearsOfExperience !== undefined && entry.yearsOfExperience !== null) {
                details.push(`${entry.yearsOfExperience} year${entry.yearsOfExperience !== 1 ? 's' : ''} experience`);
              }
              
              if (details.length > 0) {
                html += `<p style="color: #666">${details.join(" | ")}</p>`;
              }
              
              // Add action buttons
              html += `<div class="action-row">
                <button class="btn-outline">‚úèÔ∏è Edit</button>
                <button class="btn-outline">üóëÔ∏è Delete</button>
                <button class="btn-outline">üìã Copy</button>
              </div>`;
              
              entryDiv.innerHTML = html;
              skillsBody.appendChild(entryDiv);
            });
          } else {
            // No skill entries - show placeholder
            skillsHeader.textContent = `üõ†Ô∏è SKILLS (0)`;
            skillsBody.innerHTML = '<div class="empty-placeholder" style="text-align: center; color: #666; padding: 20px;">No skill entries yet. Click "+ Add Skill" to add one.</div>';
          }
        } catch (error) {
          console.error("Error loading skill entries:", error);
          const skillsBody = document.getElementById("skills-body");
          const skillsHeader = document.getElementById("skills-header");
          
          if (skillsBody) {
            skillsBody.innerHTML = '<div class="error-placeholder" style="text-align: center; color: #d32f2f; padding: 20px;">Error loading skill entries. Please try again later.</div>';
          }
          
          if (skillsHeader) {
            skillsHeader.textContent = `üõ†Ô∏è SKILLS (0)`;
          }
        }
      }
      
      // Load award entries from API (make available globally for script.js)
      window.loadAwardEntries = async function loadAwardEntries() {
        try {
          const response = await fetch("http://localhost:5000/api/awards");
          const data = await response.json();
          
          const awardsBody = document.getElementById("awards-body");
          const awardsHeader = document.getElementById("awards-header");
          
          if (!awardsBody || !awardsHeader) {
            console.error("Required DOM elements not found for awards");
            return;
          }
          
          // Clear existing content
          awardsBody.innerHTML = "";
          
          if (data.status === "success" && data.awards && data.awards.length > 0) {
            const awardList = data.awards;
            
            // Update header with count
            awardsHeader.textContent = `üèÜ AWARDS (${awardList.length})`;
            
            // Render each award entry
            awardList.forEach((entry) => {
              const entryDiv = document.createElement("div");
              entryDiv.className = "vault-entry";
              entryDiv.setAttribute("data-id", entry._id);
              entryDiv.setAttribute("data-type", "award");
              
              // Format date
              const awardDate = new Date(entry.date);
              const dateStr = awardDate.toLocaleDateString("en-US", { 
                year: "numeric", 
                month: "long",
                day: "numeric"
              });
              
              // Build display HTML
              let html = `<p style="font-weight: bold; font-size: 1.1em">${entry.title}</p>`;
              
              // Issuer and date
              const details = [];
              if (entry.issuer) details.push(entry.issuer);
              if (dateStr) details.push(dateStr);
              
              if (details.length > 0) {
                html += `<p>${details.join(" | ")}</p>`;
              }
              
              // Category if available
              if (entry.category) {
                const categoryMap = {
                  "academic": "Academic",
                  "professional": "Professional",
                  "competition": "Competition",
                  "recognition": "Recognition",
                  "other": "Other"
                };
                html += `<p style="color: #666">Category: ${categoryMap[entry.category] || entry.category}</p>`;
              }
              
              // Description if available
              if (entry.description) {
                html += `<p style="margin-top: 10px">${entry.description}</p>`;
              }
              
              // Add action buttons
              html += `<div class="action-row">
                <button class="btn-outline">‚úèÔ∏è Edit</button>
                <button class="btn-outline">üóëÔ∏è Delete</button>
                <button class="btn-outline">üìã Copy</button>
              </div>`;
              
              entryDiv.innerHTML = html;
              awardsBody.appendChild(entryDiv);
            });
          } else {
            // No award entries - show placeholder
            awardsHeader.textContent = `üèÜ AWARDS (0)`;
            awardsBody.innerHTML = '<div class="empty-placeholder" style="text-align: center; color: #666; padding: 20px;">No award entries yet. Click "+ Add Award" to add one.</div>';
          }
        } catch (error) {
          console.error("Error loading award entries:", error);
          const awardsBody = document.getElementById("awards-body");
          const awardsHeader = document.getElementById("awards-header");
          
          if (awardsBody) {
            awardsBody.innerHTML = '<div class="error-placeholder" style="text-align: center; color: #d32f2f; padding: 20px;">Error loading award entries. Please try again later.</div>';
          }
          
          if (awardsHeader) {
            awardsHeader.textContent = `üèÜ AWARDS (0)`;
          }
        }
      }
      
      // Load all entries when page loads
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", () => {
          loadEducationEntries();
          loadExperienceEntries();
          loadProjectEntries();
          loadSkillEntries();
          loadAwardEntries();
        });
      } else {
        loadEducationEntries();
        loadExperienceEntries();
        loadProjectEntries();
        loadSkillEntries();
        loadAwardEntries();
      }
    </script>
  </body>
</html>
